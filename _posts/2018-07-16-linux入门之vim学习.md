---
layout: post
title:  "Vim的使用"
date: 2018-07-16 21:35:10 +0800
categories: notes
tags: notes linux
author: Henryzhou
---

# Vim的使用

- 3种模式
  - 一般模式：移动光标、删除字符或者整行，复制粘帖数据
  - 编辑模式：按下“i,I,o,O,a,A,r,R"可以进入编辑模式，按下Esc可以推出编辑模式
  - 命令行模式：输入”:,/,?"可以进入命令行模式，进行数据查找、大量替换字符、保存离开等功能
- 一般模式下移动光标的方法
  - 左右：h，l，使用组合键5h即可多列跳跃
  - 上下：k，j，使用组合键5j即可多行跳跃
  - 行首（行尾）：0（$）
  - 文件首（尾）：gg（G）
  - 向下（上）翻页：ctrl+f（b）
- 一般模式下查找与替换
  - /word：向下寻找名称为word 的字符串
  - n：查找下一个
  - N：查找上一个
  - :n1,n2s/Word1/Word2/g：将n1和n2行之间的Word1替换为Word2
  - :1,$s/Word1/Word2/g：将第一行和最后一行之间的Word1替换为Word2
  - :1,$s/Word1/Word2/gc：将第一行和最后一行之间的Word1替换为Word2，并且逐个确认
- 一般模式下删除
  - x,X:在一行字中，x为向后删除一个字符（相当于Del键），X为向前删除一个字符（相当于Backspace键），可使用组合键nx（X)连续删除n个字符
  - dd：删除光标所在一整行，可使用ndd删除光标所在行开始的n行
  - d1G：删除光标所在到第一行的所有数据
  - dG：删除从光标所在到最后一行的所有数据
  - d$：删除从光标所在处到该行最后一个数据
  - d0：删除从光标所在处到该行第一个数据
- 一般模式下复制
  - yy：复制光标所在行的数据
  - nyy：复制光标所在向下n行
  - y1G：复制光标所在行到第一行的数据
  - yG：复制光标所在行到最后一行的数据
  - y0：复制光标所在字符到该行行首的所有数据
  - y$：复制光标所在字符到该行行尾的所有数据
  - p,P：p为将以复制的数据在光标下一行粘帖，P则为粘帖在光标上一行
- 一般模式下其他操作
  - J：将光标所在行与下一行的数据结合成一行
  - u：撤销前一个操作
  - ctrl+r：重做前一个操作
  - .：小数点为重复前一个操作
  - ZZ：保存并且退出
- 编辑模式
  - i,I：i为从目前光标所在处开始插入，I为在当前所在行第一个非空格符处开始插入
  - a,A：a为从当前光标所在的下一个字符处开始插入，A为从光标所在行的最后一格字符处开始插入
  - o,O：o为当前所在的下一行处插入新的一行，O为目前光标所在的上一行插入新的一行
  - r,R：r只会替换光标所在字符，R会一直替换知道Esc
  - Esc：退出编辑模式，进入一般模式
- 命令行模式
  - :w：将编辑的数据写入硬盘文件中
  - :w!：若文件为只读，强制写入文件，至于能不能写入与文件权限有关
  - :q：离开vim
  - :q!：若修改过文件，又不想保存，使用！强制离开
  - :wq：保存后离开，“:wq!”强制保存后离开
  - :set nu：显示行号
  - :set nonu：取消行号显示